jQuery.sap.require("zcust.controls.SimpleListItem");var __measureItemsLen=0;sap.viz.chartpopover.ChartPopover.prototype._updateContent=function(){for(var a=this._options.target.parentNode,b=0,c=void 0;;){var d=sap.ui.getCore().byId(a.id);if("undefined"!=typeof d&&"sap.viz.ui5.controls.VizFrame"===d.getMetadata()._sClassName){c=sap.ui.getCore().byId(a.id);break}if(b++>50)break;a=a.parentNode}this._oCustomPanel=null,this._oContentPanel._oList.removeAllItems();var e=[].concat.apply([],c.vizSelection().map(function(a){return Object.keys(a.data)})).filter(function(a,b,c){return c.indexOf(a)===b}),f=e.length>2,g=/right/.test(c.getParent().getParent().sId),h,i,j,k,l=c.getModel("leftChartsMasterData").oData.general;for(var b in c.vizSelection()){j=c.vizSelection()[b].data,k=Object.keys(j);var m;try{m=Number.isFinite(j[k[0]])}catch(n){m=isFinite(j[k[0]])}var o;try{o=0!==j[k[1]].search("^__")}catch(n){o=!1}h=m||o?j[k[0]]:j[k[1]];var p=l.filter(function(a){return k.map(function(b){return a[b]==j[b]}).every(function(a){return a})})[0].popupDimensions,q=sap.ui.core.format.NumberFormat.getFloatInstance({minFractionDigits:2,maxFractionDigits:2,groupingEnabled:!0}),r=new zcust.controls.SimpleListItem({"class":"sapUiSizeCompact",title:p,info:q.format(h)});r.addStyleClass("viz-controls-chartPopover-measures-item"),this._oContentPanel._oList.addItem(r)}return this._measureItemsLen=this._oContentPanel._oList.getItems().length,__measureItemsLen=this._measureItemsLen,this._oSelectedBar.addStyleClass("viz-controls-chartPopover-vizSelectedBarBorder"),this},sap.viz.chartpopover.ContentPanel.prototype.setContentData=function(){this._oShapeLabel=null,this._oDimLabel=null,this._oList.getModel().setData({items:[]})},sap.viz.chartpopover.ContentPanel.prototype.getContentHeight=function(){var a=1.4*this._spacing,b=this._defaultItemsLineHeight+a;return __measureItemsLen>0&&(b=__measureItemsLen*this._defaultItemsLineHeight+a,b=4>b?4:b),b};